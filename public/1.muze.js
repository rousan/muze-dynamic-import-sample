(window.webpackJsonpmuze=window.webpackJsonpmuze||[]).push([[1],{118:function(t,e,n){"use strict";n.d(e,"f",(function(){return O})),n.d(e,"a",(function(){return F})),n.d(e,"b",(function(){return T})),n.d(e,"c",(function(){return P})),n.d(e,"d",(function(){return j})),n.d(e,"e",(function(){return L}));var r=n(119),i=new Array(32).fill(void 0);function o(t){return i[t]}i.push(void 0,null,!0,!1);var a=0,u=null;function s(){return null!==u&&u.buffer===r.ib.buffer||(u=new Uint8Array(r.ib.buffer)),u}var c=new("undefined"==typeof TextEncoder?n(122).TextEncoder:TextEncoder)("utf-8"),f="function"==typeof c.encodeInto?function(t,e){return c.encodeInto(t,e)}:function(t,e){var n=c.encode(t);return e.set(n),{read:t.length,written:n.length}};var l=null;function p(){return null!==l&&l.buffer===r.ib.buffer||(l=new Int32Array(r.ib.buffer)),l}var d=i.length;function h(t){var e=o(t);return function(t){t<36||(i[t]=d,d=t)}(t),e}var g=new("undefined"==typeof TextDecoder?n(122).TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function m(t,e){return g.decode(s().subarray(t,t+e))}g.decode();var v=null;function _(t,e){return(null!==v&&v.buffer===r.ib.buffer||(v=new Float64Array(r.ib.buffer)),v).subarray(t/8,t/8+e)}function y(t,e){if(!(t instanceof e))throw new Error("expected instance of "+e.name);return t.ptr}function b(t){d===i.length&&i.push(i.length+1);var e=d;return d=i[e],i[e]=t,e}var w=32;function x(t){if(1==w)throw new Error("out of js stack");return i[--w]=t,w}var S=null;function A(t,e){return(null!==S&&S.buffer===r.ib.buffer||(S=new Uint32Array(r.ib.buffer)),S).subarray(t/4,t/4+e)}function O(t,e,n,i,o){y(t,F);var a=r.mb(t.ptr,e,n,i,o);return R.__wrap(a)}var E=function(){function t(){}return t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n},t.prototype.free=function(){var t=this.ptr;this.ptr=0,r.a(t)},Object.defineProperty(t.prototype,"data_ptr",{get:function(){return r.g(this.ptr)},set:function(t){r.m(this.ptr,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data_len",{get:function(){return r.f(this.ptr)>>>0},set:function(t){r.l(this.ptr,t)},enumerable:!1,configurable:!0}),t}(),D=function(){function t(){}return t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n},t.prototype.free=function(){var t=this.ptr;this.ptr=0,r.b(t)},t.prototype.get_name=function(){try{r.z(8,this.ptr);var t=p()[2],e=p()[3];return m(t,e)}finally{r.s(t,e)}},t.prototype.get_data_indices=function(){return r.w(this.ptr)},t.prototype.get_data_info=function(){return r.x(this.ptr)},t.prototype.get_rows_count=function(){return r.A(this.ptr)>>>0},t.prototype.get_value_at_index=function(t){return r.B(this.ptr,t)},t.prototype.get_domain=function(t){var e=r.y(this.ptr,t);return E.__wrap(e)},t}(),N=function(){function t(){}return t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n},t.prototype.free=function(){var t=this.ptr;this.ptr=0,r.c(t)},t.prototype.get_name=function(){try{r.z(8,this.ptr);var t=p()[2],e=p()[3];return m(t,e)}finally{r.s(t,e)}},t.prototype.get_data_ptr=function(){return r.E(this.ptr)},t.prototype.get_data_indices=function(){return r.C(this.ptr)},t.prototype.get_data_info=function(){return r.D(this.ptr)},t.prototype.get_rows_count=function(){return r.G(this.ptr)>>>0},t.prototype.get_value_at_index=function(t){return r.H(this.ptr,t)},t.prototype.get_domain=function(t){r.F(8,this.ptr,t);var e=p()[2],n=p()[3],i=_(e,n).slice();return r.s(e,8*n),i},t}(),F=function(){function t(e){y(e,T);var n=e.ptr;e.ptr=0;var i=r.V(n);return t.__wrap(i)}return t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n},t.prototype.free=function(){var t=this.ptr;this.ptr=0,r.d(t)},t.prototype.clone=function(){var e=r.J(this.ptr);return t.__wrap(e)},t.prototype.add_field=function(t,e){return r.I(this.ptr,b(t),b(e))>>>0},t.prototype.get_categorical_field=function(t){var e=r.M(this.ptr,t);return D.__wrap(e)},t.prototype.get_continuous_field=function(t){var e=r.N(this.ptr,t);return N.__wrap(e)},t.prototype.get_temporal_field=function(t){var e=r.T(this.ptr,t);return k.__wrap(e)},t.prototype.get_id_field=function(t){var e=r.P(this.ptr,t);return I.__wrap(e)},t.prototype.select=function(t,e){var n=r.Y(this.ptr,b(t),e);return C.__wrap(n)},t.prototype.sort=function(e){try{var n=r.Z(this.ptr,x(e));return t.__wrap(n)}finally{i[w++]=void 0}},t.prototype.project=function(t){try{var e=r.W(this.ptr,x(t));return C.__wrap(e)}finally{i[w++]=void 0}},t.prototype.group_by=function(e,n){var i=r.U(this.ptr,b(e),b(n));return t.__wrap(i)},t.prototype.split_by_row=function(t){var e=r.ab(this.ptr,b(t));return M.__wrap(e)},t.prototype.dispose=function(t){r.L(this.ptr,b(t))},t.prototype.row_count=function(){return r.X(this.ptr)>>>0},t.prototype.column_count=function(){return r.K(this.ptr)>>>0},t.prototype.get_eligible_rows=function(){r.O(8,this.ptr);var t=p()[2],e=p()[3],n=function(t,e){return p().subarray(t/4,t/4+e)}(t,e).slice();return r.s(t,4*e),n},t.prototype.get_partial_column_count=function(){return r.R(this.ptr)>>>0},t.prototype.get_partial_row_count=function(){return r.S(this.ptr)>>>0},t.prototype.get_matching_ids=function(e){y(e,t),r.Q(8,this.ptr,e.ptr);var n=p()[2],i=p()[3],o=A(n,i).slice();return r.s(n,4*i),o},t}(),T=function(){function t(e,n){var i=r.bb(e,n);return t.__wrap(i)}return t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n},t.prototype.free=function(){var t=this.ptr;this.ptr=0,r.e(t)},Object.defineProperty(t.prototype,"rows",{get:function(){return r.i(this.ptr)>>>0},set:function(t){r.o(this.ptr,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return r.h(this.ptr)>>>0},set:function(t){r.n(this.ptr,t)},enumerable:!1,configurable:!0}),t}(),I=function(){function t(){}return t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n},t.prototype.free=function(){var t=this.ptr;this.ptr=0,r.j(t)},t.prototype.get_name=function(){try{r.z(8,this.ptr);var t=p()[2],e=p()[3];return m(t,e)}finally{r.s(t,e)}},t.prototype.get_data_ptr=function(){return r.eb(this.ptr)},t.prototype.get_data_indices=function(){return r.cb(this.ptr)},t.prototype.get_data_info=function(){return r.db(this.ptr)},t.prototype.get_rows_count=function(){return r.fb(this.ptr)>>>0},t.prototype.get_value_at_index=function(t){return r.gb(this.ptr,t)},t}(),C=function(){function t(){}return t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n},t.prototype.free=function(){var t=this.ptr;this.ptr=0,r.k(t)},t.prototype.get_filtered_dm=function(){var t=r.jb(this.ptr);return 0===t?void 0:F.__wrap(t)},t.prototype.get_unfiltered_dm=function(){var t=r.kb(this.ptr);return 0===t?void 0:F.__wrap(t)},t}(),M=function(){function t(){}return t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n},t.prototype.free=function(){var t=this.ptr;this.ptr=0,r.p(t)},t.prototype.get_dm=function(){var t=r.lb(this.ptr);return F.__wrap(t)},t.prototype.get_count=function(){return r.K(this.ptr)>>>0},t}(),R=function(){function t(){}return t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n},t.prototype.free=function(){var t=this.ptr;this.ptr=0,r.q(t)},t.prototype.get_y_0=function(){return r.pb(this.ptr)},t.prototype.get_y_1=function(){return r.qb(this.ptr)},t.prototype.get_id=function(){return r.ob(this.ptr)},t.prototype.free_data=function(){r.nb(this.ptr)},t}(),k=function(){function t(){}return t.__wrap=function(e){var n=Object.create(t.prototype);return n.ptr=e,n},t.prototype.free=function(){var t=this.ptr;this.ptr=0,r.r(t)},t.prototype.get_name=function(){try{r.z(8,this.ptr);var t=p()[2],e=p()[3];return m(t,e)}finally{r.s(t,e)}},t.prototype.get_data_ptr=function(){return r.tb(this.ptr)},t.prototype.get_data_indices=function(){return r.rb(this.ptr)},t.prototype.get_data_info=function(){return r.sb(this.ptr)},t.prototype.get_rows_count=function(){return r.vb(this.ptr)>>>0},t.prototype.get_value_at_index=function(t){return r.wb(this.ptr,t)},t.prototype.min_consecutive_diff=function(){return r.xb(this.ptr)},t.prototype.get_domain=function(t){r.ub(8,this.ptr,t);var e=p()[2],n=p()[3],i=_(e,n).slice();return r.s(e,8*n),i},t}(),P=function(t,e){var n=o(e),i=function(t,e,n){if(void 0===n){var r=c.encode(t),i=e(r.length);return s().subarray(i,i+r.length).set(r),a=r.length,i}for(var o=t.length,u=e(o),l=s(),p=0;p<o;p++){var d=t.charCodeAt(p);if(d>127)break;l[u+p]=d}if(p!==o){0!==p&&(t=t.slice(p)),u=n(u,o,o=p+3*t.length);var h=s().subarray(u+p,u+o);p+=f(t,h).written}return a=p,u}(JSON.stringify(void 0===n?null:n),r.t,r.u),u=a;p()[t/4+1]=u,p()[t/4+0]=i},j=function(t){h(t)},L=function(t,e){throw new Error(m(t,e))};r.v()},119:function(t,e,n){"use strict";var r=n.w[t.i];t.exports=r;n(118);r.yb()},120:function(t,e,n){var r=n(124),i=n(132);for(var o in(e=t.exports=function(t,e){return new i(e).process(t)}).FilterCSS=i,r)e[o]=r[o];"undefined"!=typeof window&&(window.filterCSS=t.exports)},121:function(t,e){t.exports={indexOf:function(t,e){var n,r;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var r,i;if(Array.prototype.forEach)return t.forEach(e,n);for(r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/.exec(t);return e?e.index:-1}}},122:function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),s=r[n];n<o;s=r[++n])g(s)||!b(s)?a+=" "+s:a+=" "+u(s);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function u(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&e._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),f(r,t,r.depth)}function s(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function c(t,e){return t}function f(t,n,r){if(t.customInspect&&n&&S(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return v(i)||(i=f(t,i,r)),i}var o=function(t,e){if(_(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(m(e))return t.stylize(""+e,"number");if(h(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,n);if(o)return o;var a=Object.keys(n),u=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(S(n)){var s=n.name?": "+n.name:"";return t.stylize("[Function"+s+"]","special")}if(y(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return l(n)}var c,b="",A=!1,O=["{","}"];(d(n)&&(A=!0,O=["[","]"]),S(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(b=" "+RegExp.prototype.toString.call(n)),w(n)&&(b=" "+Date.prototype.toUTCString.call(n)),x(n)&&(b=" "+l(n)),0!==a.length||A&&0!=n.length?r<0?y(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=A?function(t,e,n,r,i){for(var o=[],a=0,u=e.length;a<u;++a)N(e,String(a))?o.push(p(t,e,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(p(t,e,n,r,i,!0))})),o}(t,n,r,u,a):a.map((function(e){return p(t,n,r,u,e,A)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,b,O)):O[0]+b+O[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i,o){var a,u,s;if((s=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=s.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):s.set&&(u=t.stylize("[Setter]","special")),N(r,i)||(a="["+i+"]"),u||(t.seen.indexOf(s.value)<0?(u=g(n)?f(t,s.value,null):f(t,s.value,n-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+u.split("\n").map((function(t){return"   "+t})).join("\n")):u=t.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return u;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function d(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return"number"==typeof t}function v(t){return"string"==typeof t}function _(t){return void 0===t}function y(t){return b(t)&&"[object RegExp]"===A(t)}function b(t){return"object"==typeof t&&null!==t}function w(t){return b(t)&&"[object Date]"===A(t)}function x(t){return b(t)&&("[object Error]"===A(t)||t instanceof Error)}function S(t){return"function"==typeof t}function A(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(_(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=h,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=_,e.isRegExp=y,e.isObject=b,e.isDate=w,e.isError=x,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(129);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),E[t.getMonth()],e].join(" ")}function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",D(),e.format.apply(e,arguments))},e.inherits=n(130),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var F="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(F&&t[F]){var e;if("function"!=typeof(e=t[F]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,F,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),F&&Object.defineProperty(e,F,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=F,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(T,e,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(128))},123:function(t,e,n){var r=n(120).FilterCSS,i=n(120).getDefaultWhiteList,o=n(121);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var u=new r;function s(t){return t.replace(c,"&lt;").replace(f,"&gt;")}var c=/</g,f=/>/g,l=/"/g,p=/&quot;/g,d=/&#([a-zA-Z0-9]*);?/gim,h=/&colon;?/gim,g=/&newline;?/gim,m=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,v=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,_=/u\s*r\s*l\s*\(.*/gi;function y(t){return t.replace(l,"&quot;")}function b(t){return t.replace(p,'"')}function w(t){return t.replace(d,(function(t,e){return"x"===e[0]||"X"===e[0]?String.fromCharCode(parseInt(e.substr(1),16)):String.fromCharCode(parseInt(e,10))}))}function x(t){return t.replace(h,":").replace(g," ")}function S(t){for(var e="",n=0,r=t.length;n<r;n++)e+=t.charCodeAt(n)<32?" ":t.charAt(n);return o.trim(e)}function A(t){return t=S(t=x(t=w(t=b(t))))}function O(t){return t=s(t=y(t))}var E=/<!--[\s\S]*?-->/g;e.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},e.getDefaultWhiteList=a,e.onTag=function(t,e,n){},e.onIgnoreTag=function(t,e,n){},e.onTagAttr=function(t,e,n){},e.onIgnoreTagAttr=function(t,e,n){},e.safeAttrValue=function(t,e,n,r){if(n=A(n),"href"===e||"src"===e){if("#"===(n=o.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===e){if(m.lastIndex=0,m.test(n))return""}else if("style"===e){if(v.lastIndex=0,v.test(n))return"";if(_.lastIndex=0,_.test(n)&&(m.lastIndex=0,m.test(n)))return"";!1!==r&&(n=(r=r||u).process(n))}return n=O(n)},e.escapeHtml=s,e.escapeQuote=y,e.unescapeQuote=b,e.escapeHtmlEntities=w,e.escapeDangerHtml5Entities=x,e.clearNonPrintableCharacter=S,e.friendlyAttrValue=A,e.escapeAttrValue=O,e.onIgnoreTagStripAll=function(){return""},e.StripTagBody=function(t,e){"function"!=typeof e&&(e=function(){});var n=!Array.isArray(t),r=[],i=!1;return{onIgnoreTag:function(a,u,s){if(function(e){return!!n||-1!==o.indexOf(t,e)}(a)){if(s.isClosing){var c="[/removed]",f=s.position+c.length;return r.push([!1!==i?i:s.position,f]),i=!1,c}return i||(i=s.position),"[removed]"}return e(a,u,s)},remove:function(t){var e="",n=0;return o.forEach(r,(function(r){e+=t.slice(n,r[0]),n=r[1]})),e+=t.slice(n)}}},e.stripCommentTag=function(t){return t.replace(E,"")},e.stripBlankChar=function(t){var e=t.split("");return(e=e.filter((function(t){var e=t.charCodeAt(0);return 127!==e&&(!(e<=31)||(10===e||13===e))}))).join("")},e.cssFilter=u,e.getDefaultCSSWhiteList=i},124:function(t,e){function n(){var t={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return t}var r=/javascript\s*\:/gim;e.whiteList=n(),e.getDefaultWhiteList=n,e.onAttr=function(t,e,n){},e.onIgnoreAttr=function(t,e,n){},e.safeAttrValue=function(t,e){return r.test(e)?"":e}},125:function(t,e){t.exports={indexOf:function(t,e){var n,r;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var r,i;if(Array.prototype.forEach)return t.forEach(e,n);for(r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}}},126:function(t,e,n){var r=n(121);function i(t){var e=r.spaceIndex(t);if(-1===e)var n=t.slice(1,-1);else n=t.slice(1,e+1);return"/"===(n=r.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function o(t){return"</"===t.slice(0,2)}var a=/[^a-zA-Z0-9_:\.\-]/gim;function u(t,e){for(;e<t.length;e++){var n=t[e];if(" "!==n)return"="===n?e:-1}}function s(t,e){for(;e>0;e--){var n=t[e];if(" "!==n)return"="===n?e:-1}}function c(t){return function(t){return'"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]}(t)?t.substr(1,t.length-2):t}e.parseTag=function(t,e,n){"use strict";var r="",a=0,u=!1,s=!1,c=0,f=t.length,l="",p="";t:for(c=0;c<f;c++){var d=t.charAt(c);if(!1===u){if("<"===d){u=c;continue}}else if(!1===s){if("<"===d){r+=n(t.slice(a,c)),u=c,a=c;continue}if(">"===d){r+=n(t.slice(a,u)),l=i(p=t.slice(u,c+1)),r+=e(u,r.length,l,p,o(p)),a=c+1,u=!1;continue}if('"'===d||"'"===d)for(var h=1,g=t.charAt(c-h);""===g.trim()||"="===g;){if("="===g){s=d;continue t}g=t.charAt(c-++h)}}else if(d===s){s=!1;continue}}return a<t.length&&(r+=n(t.substr(a))),r},e.parseAttr=function(t,e){"use strict";var n=0,i=[],o=!1,f=t.length;function l(t,n){if(!((t=(t=r.trim(t)).replace(a,"").toLowerCase()).length<1)){var o=e(t,n||"");o&&i.push(o)}}for(var p=0;p<f;p++){var d,h=t.charAt(p);if(!1!==o||"="!==h)if(!1===o||p!==n||'"'!==h&&"'"!==h||"="!==t.charAt(p-1))if(/\s|\n|\t/.test(h)){if(t=t.replace(/\s|\n|\t/g," "),!1===o){if(-1===(d=u(t,p))){l(r.trim(t.slice(n,p))),o=!1,n=p+1;continue}p=d-1;continue}if(-1===(d=s(t,p-1))){l(o,c(r.trim(t.slice(n,p)))),o=!1,n=p+1;continue}}else;else{if(-1===(d=t.indexOf(h,p+1)))break;l(o,r.trim(t.slice(n+1,d))),o=!1,n=(p=d)+1}else o=t.slice(n,p),n=p+1}return n<t.length&&(!1===o?l(t.slice(n)):l(o,c(r.trim(t.slice(n))))),r.trim(i.join(" "))}},128:function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,c=[],f=!1,l=-1;function p(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var t=u(p);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||f||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},129:function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},130:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},131:function(t,e,n){var r=n(123),i=n(126),o=n(134);function a(t,e){return new o(e).process(t)}for(var u in(e=t.exports=a).filterXSS=a,e.FilterXSS=o,r)e[u]=r[u];for(var u in i)e[u]=i[u];"undefined"!=typeof window&&(window.filterXSS=t.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=t.exports)},132:function(t,e,n){var r=n(124),i=n(133);n(125);function o(t){return null==t}function a(t){(t=function(t){var e={};for(var n in t)e[n]=t[n];return e}(t||{})).whiteList=t.whiteList||r.whiteList,t.onAttr=t.onAttr||r.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||r.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||r.safeAttrValue,this.options=t}a.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var e=this.options,n=e.whiteList,r=e.onAttr,a=e.onIgnoreAttr,u=e.safeAttrValue;return i(t,(function(t,e,i,s,c){var f=n[i],l=!1;if(!0===f?l=f:"function"==typeof f?l=f(s):f instanceof RegExp&&(l=f.test(s)),!0!==l&&(l=!1),s=u(i,s)){var p,d={position:e,sourcePosition:t,source:c,isWhite:l};return l?o(p=r(i,s,d))?i+":"+s:p:o(p=a(i,s,d))?void 0:p}}))},t.exports=a},133:function(t,e,n){var r=n(125);t.exports=function(t,e){";"!==(t=r.trimRight(t))[t.length-1]&&(t+=";");var n=t.length,i=!1,o=0,a=0,u="";function s(){if(!i){var n=r.trim(t.slice(o,a)),s=n.indexOf(":");if(-1!==s){var c=r.trim(n.slice(0,s)),f=r.trim(n.slice(s+1));if(c){var l=e(o,u.length,c,f,n);l&&(u+=l+"; ")}}}o=a+1}for(;a<n;a++){var c=t[a];if("/"===c&&"*"===t[a+1]){var f=t.indexOf("*/",a+2);if(-1===f)break;o=(a=f+1)+1,i=!1}else"("===c?i=!0:")"===c?i=!1:";"===c?i||s():"\n"===c&&s()}return r.trim(u)}},134:function(t,e,n){var r=n(120).FilterCSS,i=n(123),o=n(126),a=o.parseTag,u=o.parseAttr,s=n(121);function c(t){return null==t}function f(t){(t=function(t){var e={};for(var n in t)e[n]=t[n];return e}(t||{})).stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=i.onIgnoreTagStripAll),t.whiteList=t.whiteList||i.whiteList,t.onTag=t.onTag||i.onTag,t.onTagAttr=t.onTagAttr||i.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||i.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||i.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||i.safeAttrValue,t.escapeHtml=t.escapeHtml||i.escapeHtml,this.options=t,!1===t.css?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new r(t.css))}f.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var e=this.options,n=e.whiteList,r=e.onTag,o=e.onIgnoreTag,f=e.onTagAttr,l=e.onIgnoreTagAttr,p=e.safeAttrValue,d=e.escapeHtml,h=this.cssFilter;e.stripBlankChar&&(t=i.stripBlankChar(t)),e.allowCommentTag||(t=i.stripCommentTag(t));var g=!1;if(e.stripIgnoreTagBody){g=i.StripTagBody(e.stripIgnoreTagBody,o);o=g.onIgnoreTag}var m=a(t,(function(t,e,i,a,g){var m,v={sourcePosition:t,position:e,isClosing:g,isWhite:n.hasOwnProperty(i)};if(!c(m=r(i,a,v)))return m;if(v.isWhite){if(v.isClosing)return"</"+i+">";var _=function(t){var e=s.spaceIndex(t);if(-1===e)return{html:"",closing:"/"===t[t.length-2]};var n="/"===(t=s.trim(t.slice(e+1,-1)))[t.length-1];return n&&(t=s.trim(t.slice(0,-1))),{html:t,closing:n}}(a),y=n[i],b=u(_.html,(function(t,e){var n,r=-1!==s.indexOf(y,t);return c(n=f(i,t,e,r))?r?(e=p(i,t,e,h))?t+'="'+e+'"':t:c(n=l(i,t,e,r))?void 0:n:n}));a="<"+i;return b&&(a+=" "+b),_.closing&&(a+=" /"),a+=">"}return c(m=o(i,a,v))?d(a):m}),d);return g&&(m=g.remove(m)),m},t.exports=f},138:function(t,e,n){"use strict";var r,i;n.r(e),(i=r||(r={})).SUM="sum",i.AVG="avg",i.MIN="min",i.MAX="max",i.FIRST="first",i.LAST="last",i.COUNT="count",i.STD="std";var o,a,u,s=function(t){return{sum:0,avg:1,count:3,min:4,max:5,std:6}[t]};(a=o||(o={})).EQUAL="eq",a.NOT_EQUAL="neq",a.GREATER_THAN="gt",a.LESS_THAN="lt",a.GREATER_THAN_EQUAL="gte",a.LESS_THAN_EQUAL="lte",a.IN="in",a.NIN="nin",a.EQUAL_TO="eq",a.NOT_EQUAL_TO="neq",function(t){t.AND="and",t.OR="or"}(u||(u={}));var c,f=function(t){var e={eq:1,neq:2,gt:3,lt:4,gte:5,lte:6,in:9,nin:10,and:7,or:8}[t];return void 0!==e?e:-1};!function(t){t.NORMAL="normal",t.INVERSE="inverse",t.ALL="all"}(c||(c={}));var l,p,d=function(t){return{normal:1,inverse:2,all:3}[t]};(p=l||(l={})).ASC="asc",p.DESC="desc",p.NO_ORDER="";var h=function(t){return t===l.DESC?1:t===l.NO_ORDER?3:0},g=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},m=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t};function v(t){return t instanceof Date?t:new Date(t)}function _(t){return t<10?"0"+t:t}function y(t){this.format=t,this.dtParams=void 0,this.nativeDate=void 0}RegExp.escape=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},y.TOKEN_PREFIX="%",y.DATETIME_PARAM_SEQUENCE={YEAR:0,MONTH:1,DAY:2,HOUR:3,MINUTE:4,SECOND:5,MILLISECOND:6},y.defaultNumberParser=function(t){return function(e){var n;return isFinite(n=parseInt(e,10))?n:t}},y.defaultRangeParser=function(t,e){return function(n){var r,i;if(!n)return e;var o=n.toLowerCase();for(r=0,i=t.length;r<i;r++)if(t[r].toLowerCase()===o)return r;return void 0===r?e:null}},y.getTokenDefinitions=function(){var t={short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},e={short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]};return{H:{name:"H",index:3,extract:function(){return"(\\d+)"},parser:y.defaultNumberParser(),formatter:function(t){return v(t).getHours().toString()}},l:{name:"l",index:3,extract:function(){return"(\\d+)"},parser:y.defaultNumberParser(),formatter:function(t){var e=v(t).getHours()%12;return(0===e?12:e).toString()}},p:{name:"p",index:3,extract:function(){return"(AM|PM)"},parser:function(t){return t?t.toLowerCase():null},formatter:function(t){return v(t).getHours()<12?"AM":"PM"}},P:{name:"P",index:3,extract:function(){return"(am|pm)"},parser:function(t){return t?t.toLowerCase():null},formatter:function(t){return v(t).getHours()<12?"am":"pm"}},M:{name:"M",index:4,extract:function(){return"(\\d+)"},parser:y.defaultNumberParser(),formatter:function(t){return _(v(t).getMinutes())}},S:{name:"S",index:5,extract:function(){return"(\\d+)"},parser:y.defaultNumberParser(),formatter:function(t){return _(v(t).getSeconds())}},K:{name:"K",index:6,extract:function(){return"(\\d+)"},parser:y.defaultNumberParser(),formatter:function(t){return v(t).getMilliseconds().toString()}},a:{name:"a",index:2,extract:function(){return"("+t.short.join("|")+")"},parser:y.defaultRangeParser(t.short),formatter:function(e){var n=v(e).getDay();return t.short[n].toString()}},A:{name:"A",index:2,extract:function(){return"("+t.long.join("|")+")"},parser:y.defaultRangeParser(t.long),formatter:function(e){var n=v(e).getDay();return t.long[n].toString()}},e:{name:"e",index:2,extract:function(){return"(\\d+) of ("+e.long.join("|")+")"},parser:y.defaultNumberParser(),formatter:function(t){return v(t).getDate().toString()}},d:{name:"d",index:2,extract:function(){return"(\\d+)"},parser:y.defaultNumberParser(),formatter:function(t){return _(v(t).getDate())}},b:{name:"b",index:1,extract:function(){return"("+e.short.join("|")+")"},parser:y.defaultRangeParser(e.short),formatter:function(t){var n=v(t).getMonth();return e.short[n].toString()}},B:{name:"B",index:1,extract:function(){return"("+e.long.join("|")+")"},parser:y.defaultRangeParser(e.long),formatter:function(t){var n=v(t).getMonth();return e.long[n].toString()}},m:{name:"m",index:1,extract:function(){return"(\\d+)"},parser:function(t){return y.defaultNumberParser()(t)-1},formatter:function(t){return _(v(t).getMonth()+1)}},y:{name:"y",index:0,extract:function(){return"(\\d{2})"},parser:function(t){var e;if(t){var n=t.length;t=t.substring(n-2,n)}var r=y.defaultNumberParser()(t),i=new Date,o=Math.trunc(i.getFullYear()/100);return v(e=""+o+r).getFullYear()>i.getFullYear()&&(e=""+(o-1)+r),v(e).getFullYear()},formatter:function(t){var e,n=v(t).getFullYear().toString();return n&&(e=n.length,n=n.substring(e-2,e)),n}},Y:{name:"Y",index:0,extract:function(){return"(\\d{4})"},parser:y.defaultNumberParser(),formatter:function(t){return v(t).getFullYear().toString()}}}},y.getTokenFormalNames=function(){var t=y.getTokenDefinitions();return{HOUR:t.H,HOUR_12:t.l,AMPM_UPPERCASE:t.p,AMPM_LOWERCASE:t.P,MINUTE:t.M,SECOND:t.S,SHORT_DAY:t.a,LONG_DAY:t.A,DAY_OF_MONTH:t.e,DAY_OF_MONTH_CONSTANT_WIDTH:t.d,SHORT_MONTH:t.b,LONG_MONTH:t.B,MONTH_OF_YEAR:t.m,SHORT_YEAR:t.y,LONG_YEAR:t.Y}},y.tokenResolver=function(){var t=y.getTokenDefinitions(),e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n,r,i=0,o=t.length;i<o;i++)n=t[i],t[i]&&(r=n);return r?r[0].parser(r[1]):null};return{YEAR:[t.y,t.Y,e],MONTH:[t.b,t.B,t.m,e],DAY:[t.a,t.A,t.d,e],HOUR:[t.H,t.l,t.p,t.P,function(t,e,n,r){var i,o,a,u;return e&&(o=n||r)?("pm"===o[0].parser(o[1])&&(a=!0),i=e):i=e||t,i?(u=i[0].parser(i[1]),a&&(u+=12),u):null}],MINUTE:[t.M,e],SECOND:[t.S,e],MILLISECOND:[t.K,e]}},y.findTokens=function(t){for(var e,n,r=y.TOKEN_PREFIX,i=y.getTokenDefinitions(),o=Object.keys(i),a=[];(e=t.indexOf(r,e+1))>=0;)n=t[e+1],-1!==o.indexOf(n)&&a.push({index:e,token:n});return a},y.formatAs=function(t,e){var n,r,i,o,a=v(t),u=y.findTokens(e),s=y.getTokenDefinitions(),c=String(e),f=y.TOKEN_PREFIX;for(i=0,o=u.length;i<o;i++)r=s[n=u[i].token].formatter(a),c=c.replace(new RegExp(f+n,"g"),r);return c},y.prototype.parse=function(t,e){var n,r,i,o,a,u,s,c,f=y.tokenResolver(),l=this.extractTokenValue(t),p=y.DATETIME_PARAM_SEQUENCE,d=e&&e.noBreak,h=[],g=[],v=[];for(n in f)if({}.hasOwnProperty.call(f,n)){for(g.length=0,i=(r=f[n]).splice(r.length-1,1)[0],a=0,c=r.length;a<c;a++)void 0===(o=l[(u=r[a]).name])?g.push(null):g.push([u,o]);if(null==(s=i.apply(this,g))&&!d)break;h[p[n]]=s}return h.length&&this.checkIfOnlyYear(h.length)?v.unshift(h[0],0,1):v.unshift.apply(v,m(h)),v},y.prototype.extractTokenValue=function(t){var e,n,r,i,o,a,u,s=this.format,c=y.getTokenDefinitions(),f=y.TOKEN_PREFIX,l=y.findTokens(s),p={};o=String(s);var d=l.map((function(t){return t.token})),h=l.length;for(u=h-1;u>=0;u--)(r=l[u].index)+1!==o.length-1?(void 0===e&&(e=o.length),i=o.substring(r+2,e),o=o.substring(0,r+2)+RegExp.escape(i)+o.substring(e,o.length),e=r):e=r;for(u=0;u<h;u++)n=l[u],o=o.replace(f+n.token,c[n.token].extract());var g=(null==t?void 0:t.match(new RegExp(o)))||[];for(g.shift(),u=0,a=d.length;u<a;u++)p[d[u]]=g[u];return p},y.prototype.getNativeDate=function(t){var e=null,n=!this.format||"string"!=typeof this.format;if(Number.isFinite(t)&&n)e=new Date(t);else if(n)e=new Date(t);else{var r=this.dtParams=this.parse(t);r.length&&(this.nativeDate=new(Date.bind.apply(Date,m([void 0],r))),e=this.nativeDate)}return e},y.prototype.checkIfOnlyYear=function(t){return 1===t&&this.format.match(/y|Y/g).length};var b,w,x=function(t){var e=0;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach((function(n,r){t[r]instanceof Array||(t[r]=Array.from({length:e})),t[r].push(n)})),e++}};function S(t){return Array.isArray(t)}(w=b||(b={})).FLAT_JSON="FlatJSON",w.DSV_STR="DSVStr",w.DSV_ARR="DSVArr",w.AUTO="Auto";var A=function(t){return function(t){return"string"==typeof t}(t)?b.DSV_STR:S(t)&&S(t[0])?b.DSV_ARR:S(t)&&(0===t.length||function(t){return t===Object(t)}(t[0]))?b.FLAT_JSON:null};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var O;var E=new Uint8Array(16);function D(){if(!O&&!(O="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return O(E)}var N=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var F=function(t){return"string"==typeof t&&N.test(t)},T=[],I=0;I<256;++I)T.push((I+256).toString(16).substr(1));var C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(T[t[e+0]]+T[t[e+1]]+T[t[e+2]]+T[t[e+3]]+"-"+T[t[e+4]]+T[t[e+5]]+"-"+T[t[e+6]]+T[t[e+7]]+"-"+T[t[e+8]]+T[t[e+9]]+"-"+T[t[e+10]]+T[t[e+11]]+T[t[e+12]]+T[t[e+13]]+T[t[e+14]]+T[t[e+15]]).toLowerCase();if(!F(n))throw TypeError("Stringified UUID is invalid");return n};var M=function(t,e,n){var r=(t=t||{}).random||(t.rng||D)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return C(r)},R=new Map,k=function(t){return t.isFree},P=function(t){var e=function(){return t.find(k)};return function(t){var n,r=M(),i=function(t){if(null==t||""===t)throw new Error("Please give a promise id");if(R.has(t))throw new Error("A promise with "+t+" id already exists, please destroy or resolve or reject it first");return new Promise((function(e,n){R.set(t,{doResolve:e,doReject:n})}))}(r);return(n=e(),new Promise((function(t){if(null==n)var r=setInterval((function(){var n=e();null!=n&&(n.isFree=!1,clearInterval(r),t(n))}),64);else n.isFree=!1,t(n)}))).then((function(e){var n=e.worker;n.addEventListener("message",(function(t){var n=t.data,r=n.reqId,i=n.data;e.isFree=!0,i.error?function(t,e){if(R.has(t)){var n=R.get(t).doReject;R.delete(t),n(e)}}(r,new Error(i.error)):function(t,e){if(R.has(t)){var n=R.get(t),r=n.doResolve,i=n.doReject;R.delete(t),Promise.resolve(e).then((function(t){r(t)})).catch((function(t){i(t)}))}}(r,i.data)})),n.postMessage({data:t,reqId:r,type:"transform-data"})})),i}},j={},L={};function U(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function V(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function z(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function q(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+z(-e,6):e>9999?"+"+z(e,6):z(e,4))+"-"+z(t.getUTCMonth()+1,2)+"-"+z(t.getUTCDate(),2)+(o?"T"+z(n,2)+":"+z(r,2)+":"+z(i,2)+"."+z(o,3)+"Z":i?"T"+z(n,2)+":"+z(r,2)+":"+z(i,2)+"Z":r||n?"T"+z(n,2)+":"+z(r,2)+"Z":"")}var H,B,Y=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,u=0,s=o<=0,c=!1;function f(){if(s)return L;if(c)return c=!1,j;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=f())!==L;){for(var l=[];r!==j&&r!==L;)l.push(r),r=f();e&&null==(l=e(l,u++))||i.push(l)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?q(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=U(t);return function(r,i){return e(n(r),i,t)}}(t,e):U(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=V(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=V(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}};!function(t){t.MEASURE="measure",t.DIMENSION="dimension"}(H||(H={})),function(t){t.CATEGORICAL="categorical",t.TEMPORAL="temporal",t.BINNED="binned",t.CONTINUOUS="continuous",t.ROWID="__id"}(B||(B={}));var G,W=function(t){return t===H.MEASURE?1:0},J={categorical:0,continuous:1,temporal:2,__id:3},X=function(t){return J[t]},Q=function(t){return t===H.MEASURE?B.CONTINUOUS:B.CATEGORICAL},$=function(){function t(){this._type=B.CATEGORICAL}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),t.prototype.parse=function(t){return"number"==typeof t?String(t):t},t}(),K=function(){function t(){this._type=B.CONTINUOUS}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),t.prototype.parse=function(t){return t||0===t?("string"==typeof t&&t.includes(",")&&(t=t.replace(/,/g,"")),Number(t)):NaN},t}();!function(t){t.SELECT="select",t.GROUPBY="groupBy",t.PROJECT="project",t.SPLIT="split",t.SORT="sort",t.CALCULATE="calculate_variable"}(G||(G={}));var Z=function(){function t(){this._type=B.TEMPORAL}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),t.prototype.parse=function(t,e){var n="default";if(this._dtf={},t){var r=t;e&&"string"==typeof e?(r=String(t),n=e,this._dtf&&this._dtf[n]||(this._dtf[n]=new y(n))):(r=Number(t),this._dtf&&this._dtf.default||(this._dtf.default=new y));var i=this._dtf[n].getNativeDate(r);return i?i.getTime():NaN}return NaN},t}(),tt=function(){function t(){this.store=new Map,this.parsers(this._getDefaultParsers())}return t.prototype._getDefaultParsers=function(){return[new $,new K,new Z]},t.prototype.parsers=function(t){var e=this;return t.forEach((function(t){return e.register(t)})),this.store},t.prototype.register=function(t){return this.store.set(t._type,t),this},t.prototype.unregister=function(t){return this.store.delete(t._type),this},t.prototype.get=function(t){return t&&this.store.has(t)?this.store.get(t):null},t}(),et=function(){var t=null;return t||new tt}(),nt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},rt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nt(arguments[e]));return t};var it=function(t,e,n){if(!Array.isArray(e))throw new Error("Schema missing or is in an unsupported format");var r=e.map((function(t){return t.name}));n=Object.assign({},{firstRowHeader:!0},n);var i=[[]],o=x(i),a=r;n.firstRowHeader&&(a=t.splice(0,1)[0]);var u=a.reduce((function(t,e,n){var r;return Object.assign(t,((r={})[e]=n,r)),t}),{});return t.forEach((function(t){var n=[];return e.forEach((function(e){var r=e.name,i=e.type,o=e.format,a=void 0===o?function(t){return t}:o,s=e.subtype,c=void 0===s?B.CATEGORICAL:s;i===H.MEASURE&&(c=B.CONTINUOUS);var f=et.get(c),l=u[r],p=f?f.parse(t[l],a):t[l];n.push(p)})),o.apply(void 0,rt(n))})),{data:i,schema:e}};var ot=function(t,e,n){if((n=Object.assign({},{firstRowHeader:!0,fieldSeparator:","},n)).fieldSeparator){var r=Y(n.fieldSeparator);return it(r.parseRows(t),e,n)}return{schema:[],data:[]}},at=function(){function t(){this._type=b.DSV_STR}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),t.prototype.convert=function(t,e,n){return ot(t,e,n)},t}(),ut=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},st=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ut(arguments[e]));return t};var ct=function(t,e){if(!Array.isArray(e))throw new Error("Schema missing or is in an unsupported format");var n,r={},i=0,o=[[]],a=x(o);return t.forEach((function(t){var o=[];e.forEach((function(e){var a=e.name,u=e.type,s=e.format,c=void 0===s?function(t){return t}:s,f=e.subtype,l=void 0===f?B.CATEGORICAL:f;u===H.MEASURE&&(l=B.CONTINUOUS);var p=et.get(l);a in r?n=r[a]:(r[a]=i++,n=i-1);var d=p?p.parse(t[a],c):t[a];o[n]=d})),a.apply(void 0,st(o))})),{data:o,schema:e}},ft=function(){function t(){this._type=b.FLAT_JSON}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),t.prototype.convert=function(t,e){return ct(t,e)},t}(),lt=function(){function t(){this._type=b.DSV_ARR}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),t.prototype.convert=function(t,e,n){return it(t,e,n)},t}();var pt=function(t,e,n){var r={FlatJSON:ct,DSVStr:ot,DSVArr:it},i=A(t);if(!i)throw new Error("Could not detect the data format");return r[i](t,e,n)},dt=function(){function t(){this._type=b.AUTO}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),t.prototype.convert=function(t,e,n){return pt(t,e,n)},t}(),ht=function(){function t(){this.store=new Map,this.converters(this._getDefaultConverters())}return t.prototype._getDefaultConverters=function(){return[new at,new lt,new ft,new dt]},t.prototype.converters=function(t){var e=this;return t.forEach((function(t){return e.store.set(t._type,t)})),this.store},t.prototype.register=function(t){return this.store.set(t._type,t),this},t.prototype.unregister=function(t){return this.store.delete(t._type),this},t.prototype.get=function(t){return t&&this.store.has(t)?this.store.get(t):null},t}(),gt=function(){var t=null;return t||new ht}(),mt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},vt=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},_t=function(t,e){var n=t.options;return e&&!1!==n.useWorker?function(t,e){return P(e)(t)}(t,e):new Promise((function(e,n){setTimeout((function(){try{e(function(t){var e=t.data,n=t.schema,r=t.options,i=gt.get(r.dataFormat);return i?i.convert(e,n,r):{data:[],schema:n}}(t))}catch(t){n(t)}}),0)}))},yt=function(t,e,n,r){return mt(void 0,void 0,void 0,(function(){var i;return vt(this,(function(o){switch(o.label){case 0:return i={dataFormat:b.AUTO},n=Object.assign(Object.assign({},i),n),[4,_t({data:t,schema:e,options:n},r)];case 1:return[2,o.sent()]}}))}))},bt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},wt=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},xt=function(t,e){return bt(void 0,void 0,void 0,(function(){var n,r,i;return wt(this,(function(o){switch(o.label){case 0:return n=t.data,r=t.schema,i=t.options,[4,yt(n,r,i,e)];case 1:return[2,o.sent()]}}))}))};var St,At=function(){function t(t){this._value=t}return t.prototype.value=function(){return this._value},t.prototype.toString=function(){return String(this._value)},t}(),Ot=n(118);!function(t){t.WASM="wasm"}(St||(St={}));var Et,Dt,Nt=n(119);!function(t){t.UNDEFINED=""}(Et||(Et={})),function(t){t.NULL="null",t.UNDEFINED="undefined",t.NAN="NaN",t.NIL="nil",t.NA="na",t.EMPTY_STRING=""}(Dt||(Dt={}));var Ft,Tt,It=((Ft={})[B.TEMPORAL]=function(t,e){var n=t;if("number"!=typeof t){var r=et.get(B.TEMPORAL);n=r?r.parse(t,e):t}return n},Ft[B.CATEGORICAL]=function(t,e){var n=et.get(B.CATEGORICAL),r=n?n.parse(t,e):t;return zt(r)?r:"_#-"},Ft[B.CONTINUOUS]=function(t,e){var n=et.get(B.CONTINUOUS);return null==n?void 0:n.parse(t,e)},Ft),Ct=function(t,e,n){var r=It[t];return r?r(e,n):e},Mt=function(t,e,n){void 0===n&&(n={});var r=t.conditions,i=t.operator;if(r&&i&&r.length>0){n.conditions=[];for(var o=0;o<r.length;o++){var a=n.conditions[o]={},u=Mt(r[o],e,a);u.operator?a=u:n.conditions.pop()}if(n.operator=f(i),-1===n.operator)n={};else if(1===n.conditions.length)n=n.conditions[0]?n.conditions[0]:{};else{var s=[];for(var o in n.conditions)n.conditions[o]&&s.push(n.conditions[o]);n.conditions=s,1===n.conditions.length&&(n=n.conditions[0])}}else if(t.field){var c=t.field,l=t.value,p=e.get(c||{});if(p&&null!=p.index){var d=p.index,h=p.field;n.field=d;var g=h.schema(),m=g.subtype,v=void 0===m?B.CATEGORICAL:m,_=g.format,y=Ct(v,l,void 0===_?function(t){return t}:_);n.value=y,n.operator=f(i),-1==n.operator&&(n={})}}return n},Rt=n(131),kt=n.n(Rt),Pt=function(t,e){new Int32Array(Nt.ib.buffer,t,e.length).set(e)},jt=function(t,e){new Float64Array(Nt.ib.buffer,t,e.length).set(e)},Lt=function(t){void 0===t&&(t=[]);var e=[],n=[];return t.forEach((function(t){"number"==typeof t&&Number.isFinite(t)?(e.push(t),n.push(1)):(e.push(NaN),n.push(-1))})),{indices:n,values:e}},Ut=function(t,e){for(var n=new Int32Array(Nt.ib.buffer,t,e),r=new Array(e),i=0;i<n.length;i++)r[i]=n[i];return r},Vt=function(t,e){for(var n=new Float64Array(Nt.ib.buffer,t,e),r=new Array(e),i=0;i<n.length;i++)r[i]=n[i];return r},zt=function(t){var e="",n=we.defaults.getInvalidStore();if(null==t)return!1;if("number"==typeof t){if(isNaN(t))return!1;e=String(t)}else e=t;return!n.isInvalid(e)},qt=function(t){return{name:t.name,type:W(t.type),subtype:X(t.subtype),aggregation_function:s(t.defAggFn)}},Ht=function(t){return t.map((function(t){return kt()(t)}))},Bt={stackBy:function(t,e,n,r,i){var o={y0:[],y1:[],id:[]},a=t.context();switch(we._contextType){case St.WASM:var u=a.context(),s=a.getSchema().findIndex((function(t){return e===t.name})),c=a.getSchema().findIndex((function(t){return n===t.name})),f=a.getSchema().findIndex((function(t){return r===t.name})),l=Object(Ot.f)(u,s,c,f,h(i));o.y0=Vt(l.get_y_0(),a.getDataMeta().rows),o.y1=Vt(l.get_y_1(),a.getDataMeta().rows),o.id=Ut(l.get_id(),a.getDataMeta().rows),l.free_data(),l.free()}return o}},Yt=function(){return(Yt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Gt=function(){function t(){}return t.loadData=function(t,e,r){void 0===r&&(r={});var i=[],o=e.map((function(t){i.push(Yt({},t));var e=Yt({},t),n=e.format;return n&&"function"==typeof n&&delete e.format,e}));return!1!==r.useWorker?n.e(2).then(n.t.bind(null,137,7)).then((function(e){var n=e.default;return xt({data:t,schema:o,options:r},function(t){var e,n;if("undefined"!=typeof window){var r=Math.min(null!==(n=null===(e=window.navigator)||void 0===e?void 0:e.hardwareConcurrency)&&void 0!==n?n:1,4);if(null!=window.Worker)return Array.from({length:r}).map((function(){return{isFree:!0,worker:new t}}))}}(n)).then((function(t){return t.schema=i,t}))})):xt({data:t,schema:o,options:r}).then((function(t){return t.schema=i,t}))},t.AggregationFunctions=r,t.ComparisonOperators=o,t.FilteringModes=c,t.LogicalOperators=u,t.DateTimeFormatter=y,t.FieldType=H,t.FieldSubtype=B,t.DerivationOperations=G,t.SortOrder=l,t.Invalid=At,t.DataWranglers=Bt,t}(),Wt=function(){function t(t){this._schema=t}return t.prototype.name=function(){return this._schema.name},t.prototype.type=function(){return this._schema.type},t.prototype.schema=function(){return this._schema},t.prototype.displayName=function(){return this._schema.displayName||this._schema.name},t.prototype.subtype=function(){return this._schema.subtype},t}(),Jt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xt=function(t){function e(e,n){var r=t.call(this,e)||this;return r._cachedStringDomain=[],r._cachedNumericDomain=[],r._cachedStringData=[],r._cachedNumericData=[],r._cachedFormattedData=[],r._wasmField=n,r._uniqueStrings=[],r}return Jt(e,t),e.prototype._setMeta=function(t){this._uniqueStrings=t},e.prototype._getMeta=function(){return this._uniqueStrings},e.prototype.uniques=function(){var t=this;if(this._wasmField&&0===this._cachedStringDomain.length){var e=this._wasmField.get_domain(0),n=Ut(e.data_ptr,e.data_len);e.free(),n.forEach((function(e){-1!==e?t._cachedStringDomain.push(t._uniqueStrings[e]):t._cachedStringDomain.push(new At(we.defaultInvalidValue()))}))}return this._cachedStringDomain},e.prototype.minMax=function(){var t=this;if(this._wasmField&&0===this._cachedNumericDomain.length){var e=this._wasmField.get_domain(1),n=Ut(e.data_ptr,e.data_len);e.free(),n.forEach((function(e){-1!==e&&t._cachedNumericDomain.push(parseFloat(t._uniqueStrings[e]))}))}return this._cachedNumericDomain},e.prototype.domain=function(){return this.uniques()},e.prototype.data=function(t){var e=this;if(void 0===t&&(t="string"),"string"==t){if(this._wasmField&&0===this._cachedStringData.length){var n=Ut(this._wasmField.get_data_info(),this._wasmField.get_rows_count());this._cachedStringData=n.map((function(t){var n=e._uniqueStrings[e._wasmField.get_value_at_index(t)];return void 0===n?new At(we.defaultInvalidValue()):n}))}return this._cachedStringData}return this._wasmField&&0===this._cachedNumericData.length&&(n=Ut(this._wasmField.get_data_info(),this._wasmField.get_rows_count()),this._cachedNumericData=n.map((function(t){var n=e._uniqueStrings[e._wasmField.get_value_at_index(t)];return void 0===n||isNaN(parseFloat(n))?new At(NaN):parseFloat(n)}))),this._cachedNumericData},e.prototype.formattedData=function(t){if(t){var e=this.data(),n=t||this._schema.format,r=[];return this._cachedFormattedData=e,n instanceof Function&&(e.forEach((function(t){var e;e=t instanceof At?t:n(t),r.push(e)})),this._cachedFormattedData=r),this._cachedFormattedData}return this.data()},e.prototype.getRowsCount=function(){return this._wasmField?this._wasmField.get_rows_count():0},e.prototype.dispose=function(){this._cachedStringData=[],this._cachedNumericData=[],this._cachedStringDomain=[],this._cachedNumericDomain=[],this._cachedFormattedData=[],this._wasmField&&this._wasmField.free()},e}(Wt),Qt=Xt,$t=function(t,e,n,r){var i=function(t){void 0===t&&(t=[]);for(var e=new Map,n=[],r=[],i=0,o=0;o<t.length;o++){var a=zt(t[o]);a&&!e.has(t[o])?(e.set(t[o],i),n.push(i),i++,r.push(String(t[o]))):n.push(a?e.get(t[o]):-1)}return{uniqueStrings:r,indices:n}}(t),o=i.indices,a=i.uniqueStrings;(null==r?void 0:r.sanitizeString)&&(a=Ht(a));var u=void 0,s=Number.MAX_VALUE;if(n){var c=n.add_field(qt(e),a),f=(u=n.get_categorical_field(c)).get_data_indices();Pt(f,o)}var l=new Xt(e,u);return l._setMeta(a),{field:l,index:s}},Kt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zt=function(t){function e(e,n){var r=t.call(this,e)||this;return r._cachedStringDomain=[],r._uniques=[],r._cachedNumericDomain=[],r._cachedStringData=[],r._cachedNumericData=[],r._cachedFormattedData=[],r._wasmField=n,r._cachedFormattedData=[],r}return Kt(e,t),e.prototype.uniques=function(){var t=this;return this._wasmField&&0===this._uniques.length&&this._wasmField.get_domain(1).forEach((function(e){return isNaN(e)?t._uniques.push(new At(NaN)):t._uniques.push(e)})),this._uniques},e.prototype.minMax=function(){var t=this;return this._wasmField&&0===this._cachedNumericDomain.length&&this._wasmField.get_domain(0).forEach((function(e){return t._cachedNumericDomain.push(e)})),this._cachedNumericDomain},e.prototype.domain=function(){return this.minMax()},e.prototype.getEligibleIndecies=function(t){return Ut(t.get_data_info(),t.get_rows_count())},e.prototype.data=function(t){var e=this;return void 0===t&&(t="numeric"),"numeric"==t?(this._wasmField&&0===this._cachedNumericData.length&&(this._cachedNumericData=this.getEligibleIndecies(this._wasmField).map((function(t){var n=e._wasmField.get_value_at_index(t);return Number.isFinite(n)?n:new At(NaN)}))),this._cachedNumericData):(this._wasmField&&0===this._cachedStringData.length&&(this._cachedStringData=this.getEligibleIndecies(this._wasmField).map((function(t){var n=e._wasmField.get_value_at_index(t);return Number.isFinite(n)?n+"":new At(we.defaultInvalidValue())}))),this._cachedStringData)},e.prototype.formattedData=function(t){if(0===this._cachedFormattedData.length||t){var e=this.data(),n=t||this._schema.format,r=[];this._cachedFormattedData=e,n instanceof Function&&(e.forEach((function(t){var e;e=t instanceof At?t:n(t),r.push(e)})),this._cachedFormattedData=r)}return this._cachedFormattedData},e.prototype.getRowsCount=function(){return this._wasmField?this._wasmField.get_rows_count():0},e.prototype.dispose=function(){this._cachedStringData=[],this._cachedNumericData=[],this._cachedStringDomain=[],this._cachedNumericDomain=[],this._cachedFormattedData=[],this._wasmField&&this._wasmField.free()},e}(Wt),te=Zt,ee=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ne=function(t){function e(e,n){var r=t.call(this,e)||this;return r._cachedStringDomain=[],r._uniques=[],r._cachedNumericDomain=[],r._cachedStringData=[],r._cachedNumericData=[],r._wasmField=n,r._cachedFormattedData=[],r}return ee(e,t),e.prototype.uniques=function(){var t=this;return this._wasmField&&0===this._uniques.length&&this._wasmField.get_domain(1).forEach((function(e){return isNaN(e)?t._uniques.push(new At(NaN)):t._uniques.push(e)})),this._uniques},e.prototype.minMax=function(){var t=this;return this._wasmField&&0===this._cachedNumericDomain.length&&this._wasmField.get_domain(0).forEach((function(e){return t._cachedNumericDomain.push(e)})),this._cachedNumericDomain},e.prototype.domain=function(){return this.minMax()},e.prototype.getEligibleIndecies=function(t){return Ut(t.get_data_info(),t.get_rows_count())},e.prototype.data=function(t){var e=this;return void 0===t&&(t="numeric"),"numeric"==t?(this._wasmField&&0===this._cachedNumericData.length&&(this._cachedNumericData=this.getEligibleIndecies(this._wasmField).map((function(t){var n=e._wasmField.get_value_at_index(t);return Number.isFinite(n)?n:new At(NaN)}))),this._cachedNumericData):(this._wasmField&&0===this._cachedStringData.length&&(this._cachedStringData=this.getEligibleIndecies(this._wasmField).map((function(t){var n=e._wasmField.get_value_at_index(t);return Number.isFinite(n)?y.formatAs(new Date(n),e._schema.format):new At(we.defaultInvalidValue())}))),this._cachedStringData)},e.prototype.formattedData=function(t){if(0===this._cachedFormattedData.length||t){var e=this.data(),n=t||this._schema.format;if(this._cachedFormattedData=e,n instanceof Function){var r=[];e.forEach((function(t){var e;e=t instanceof At?t:n(t),r.push(e)})),this._cachedFormattedData=r}else if("string"==typeof n||n instanceof String){var i=[];e.forEach((function(t){var e;e=t instanceof At?t:y.formatAs(new Date(t),n),i.push(e)})),this._cachedFormattedData=i}}return this._cachedFormattedData},e.prototype.getRowsCount=function(){return this._wasmField?this._wasmField.get_rows_count():0},e.prototype.dispose=function(){this._cachedStringData=[],this._cachedNumericData=[],this._cachedStringDomain=[],this._cachedNumericDomain=[],this._cachedFormattedData=[],this._wasmField&&this._wasmField.free()},e.prototype.minimumConsecutiveDifference=function(){var t=this._wasmField?this._wasmField.min_consecutive_diff():1/0;return isFinite(t)?t:NaN},e}(Wt),re=ne,ie=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oe=function(t){function e(e,n){var r=t.call(this,e)||this;return r._cachedStringDomain=[],r._cachedNumericDomain=[],r._cachedStringData=[],r._cachedNumericData=[],r._wasmField=n,r}return ie(e,t),e.prototype.displayName=function(){return this._schema.name},e.prototype.domain=function(){return[]},e.prototype.formattedData=function(){return[]},e.prototype.uniques=function(){return[]},e.prototype.minMax=function(){return[]},e.prototype.data=function(){var t=this;if(0===this._cachedNumericData.length&&this._wasmField){var e=Ut(this._wasmField.get_data_info(),this._wasmField.get_rows_count()).map((function(e){return t._wasmField.get_value_at_index(e)}));this._cachedNumericData=e}return this._cachedNumericData},e.prototype.getRowsCount=function(){return this._wasmField?this._wasmField.get_rows_count():0},e.prototype.getValueAtIndex=function(t){return this.data()[t]},e.prototype.dispose=function(){this._cachedStringData=[],this._cachedNumericData=[],this._cachedStringDomain=[],this._cachedNumericDomain=[],this._wasmField&&this._wasmField.free()},e}(Wt),ae=oe,ue=function(){return{name:"__id__",format:function(t){return t},displayName:"__id__",type:H.MEASURE,subtype:B.ROWID,defAggFn:"sum"}},se=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ce=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(se(arguments[e]));return t},fe=function(){function t(e,n,r){if(this._contextName=St.WASM,this._fieldOrder=[],this._fieldMap=new Map,this._dataMeta={rows:0,columns:0},this._config={sanitizeString:!1},r&&(this._config=r),e instanceof t)this._context=e._context,this._fieldOrder=e._fieldOrder,this._fieldMap=e._fieldMap;else{var i=e.data,o=e.schema,a=n,u=a.rows,s=a.columns;this._dataMeta=n,u&&(this._context=new Ot.a(new Ot.b(u,s))),this.createFields(i,o)}}return t.prototype.updateFieldMap=function(t){var e=t.field,n=t.index,r=e.name(),i=n===Number.MAX_VALUE?this._fieldMap.size:n;this._fieldMap.set(r,{field:e,index:i})},t.prototype.createFields=function(t,e){var n=this;e.forEach((function(e,r){n.createField(t[r],e)})),this.createField(new Array(t[0].length).fill(0).map((function(t,e){return e})),ue())},t.prototype.createField=function(t,e){switch(e.subtype){case B.CATEGORICAL:this.updateFieldMap($t(t,e,this._context,{sanitizeString:this._config.sanitizeString}));break;case B.CONTINUOUS:this.updateFieldMap(function(t,e,n){var r=Lt(t),i=r.indices,o=r.values,a=void 0,u=Number.MAX_VALUE;return n&&(u=n.add_field(qt(e),[]),a=n.get_continuous_field(u),Pt(a.get_data_indices(),i),jt(a.get_data_ptr(),o)),{field:new Zt(e,a),index:u}}(t,e,this._context));break;case B.TEMPORAL:this.updateFieldMap(function(t,e,n){var r=Lt(t),i=r.indices,o=r.values,a=Number.MAX_VALUE,u=void 0;return n&&(a=n.add_field(qt(e),[]),u=n.get_temporal_field(a),Pt(u.get_data_indices(),i),jt(u.get_data_ptr(),o)),{field:new ne(e,u),index:a}}(t,e,this._context));break;case B.ROWID:this.updateFieldMap(function(t,e,n){var r=void 0,i=Number.MAX_VALUE;return n&&(i=n.add_field(qt(e),[]),r=n.get_id_field(i),Pt(r.get_data_ptr(),t)),{field:new oe(e,r),index:i}}(t,e,this._context))}this._fieldOrder.push(e.name)},t.prototype.updateFields=function(t){var e=this;this._fieldOrder.forEach((function(n){var r=t.get(n),i=r.field,o=r.index,a=i.schema();switch(a.subtype){case B.CATEGORICAL:var u=new Qt(a,e._context.get_categorical_field(o));u._setMeta(i._getMeta()),e.updateFieldMap({field:u,index:o});break;case B.CONTINUOUS:e.updateFieldMap({index:o,field:new te(a,e._context.get_continuous_field(o))});break;case B.TEMPORAL:e.updateFieldMap({field:new re(a,e._context.get_temporal_field(o)),index:o});break;case B.ROWID:e.updateFieldMap({field:new ae(a,e._context.get_id_field(o)),index:o})}}))},t.prototype.setContextInfo=function(t,e,n){void 0===t&&(t=this._context),void 0===e&&(e=ce(this._fieldOrder)),void 0===n&&(n=this._fieldMap),this._context?(this._context=t,this._dataMeta={rows:t.row_count(),columns:t.column_count()},this._fieldOrder=e,this._fieldMap=new Map,this.updateFields(n)):(this._fieldOrder=e,this._fieldMap=n)},t.prototype.getClonedFieldMap=function(t,e){var n=new Map;return e.forEach((function(e,r){var i=t._fieldMap.get(e).field;n.set(e,{field:i,index:r})})),n},t.prototype.getField=function(t){var e=(this._fieldMap.get(t)||{}).field;return void 0===e?void 0:e},t.prototype.getData=function(t,e,n){var r=this;void 0===t&&(t=0),void 0===n&&(n=[]);var i=[],o=[],a=this._fieldMap.get(this._fieldOrder[0]);if(a){for(var u=a.field.getRowsCount(),s=e||u,c=function(t){o.push([]),f._fieldOrder.forEach((function(e,i){var a=r._fieldMap.get(e).field,u=o.length-1,s=n.find((function(t){return t.name===a.name()})),c=s?a.data(s.as):a.data();o[u][i]=c[t]}))},f=this,l=t;l<s;l++)c(l);return{schema:i=this.getSchema(),data:o}}return{schema:i,data:[]}},t.prototype.getSchema=function(){var t=this;return this._fieldOrder.map((function(e){return t._fieldMap.get(e).field.schema()}))},t.prototype.getDataMeta=function(){return this._dataMeta},t.prototype.sort=function(t){var e=this,n=this.clone();if(this._context){var r=[];t.forEach((function(t){var n=e._fieldMap.get(t[0]);n&&r.push([n.index,h(t[1])])}));var i=this._context.sort(r);n.setContextInfo(i)}return n},t.prototype.groupBy=function(t,e,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n={createId:!0});var i=this.clone(),o=se(t.reduce((function(t,e){var n=r._fieldMap.get(e);return n&&(t[0].push(e),t[1].push(n.index)),t}),[[],[]]),2),a=o[0],u=o[1],c=[];e.map((function(t){var e=r._fieldMap.get(t.field);e&&c.push([e.index,s(t.aggn)])}));var f=this._context?this._context.group_by(u,c):void 0,l=this._fieldOrder.filter((function(t){var e,n;return(null===(e=r._fieldMap.get(t))||void 0===e?void 0:e.field)instanceof te&&!a.includes(t)&&(null===(n=r._fieldMap.get(t))||void 0===n?void 0:n.field.schema().type)!==H.DIMENSION}));l=ce(a,l);var p=this.getClonedFieldMap(i,l);if(i.setContextInfo(f,l,p),!1!==n.createId){var d=i._fieldMap.get(i._fieldOrder[0]).field.getRowsCount();i.createField(new Array(d).fill(0).map((function(t,e){return e})),ue())}return i},t.prototype.select=function(t,e){var n=this.clone(),r=n;if(this._context){var i=Mt(t,this._fieldMap);if(i.operator){var o=(e||{}).mode,a=void 0===o?c.NORMAL:o,u=d(a),s=this._context.select(i,u);switch(a){case c.ALL:n.setContextInfo(s.get_filtered_dm());var f=this.clone();f.setContextInfo(s.get_unfiltered_dm()),r=[n,f];break;case c.INVERSE:n.setContextInfo(s.get_unfiltered_dm()),r=n;break;default:n.setContextInfo(s.get_filtered_dm()),r=n}s.free()}else r.setContextInfo(r._context&&r._context.clone())}return r},t.prototype.project=function(t,e){var n=this,r=this.clone(),i=r,o=(e||{}).mode,a=void 0===o?c.NORMAL:o,u=[],s=[];t.map((function(t){var e=n._fieldMap.get(t);e&&(u.push(t),s.push(e.index))})),u.push("__id__");var f,l=this._fieldOrder.filter((function(t,e){return!s.includes(e)})),p=d(a),h=this._context?this._context.project({columns:s,mode:p}):void 0;switch(a){case c.ALL:f=this.getClonedFieldMap(r,u),r.setContextInfo(h?h.get_filtered_dm():void 0,u,f);var g=this.clone();f=this.getClonedFieldMap(g,l),g.setContextInfo(h?h.get_unfiltered_dm():void 0,l,f),i=[r,g];break;case c.INVERSE:f=this.getClonedFieldMap(r,l),r.setContextInfo(h?h.get_unfiltered_dm():void 0,l,f),i=r;break;default:f=this.getClonedFieldMap(r,u),r.setContextInfo(h?h.get_filtered_dm():void 0,u,f),i=r}return h&&h.free(),i},t.prototype.splitByRow=function(t){var e=this,n=[];if(this._context){var r=[];t.forEach((function(t){var n=e._fieldMap.get(t);n&&r.push(n.index)}));var i=this._context.split_by_row(r),o=i.get_count();n=[];for(var a=0;a<o;a++){var u=this.clone();u.setContextInfo(i.get_dm()),n.push(u)}i.free()}return n.reverse()},t.prototype.clone=function(){return new t(this)},t.prototype.dispose=function(t){var e=this,n=t.disposePartialFields,r=t.disposeFields,i=n.dispose,o=n.values,a=void 0===o?[]:o;if(i&&this._context){var u=a.map((function(t){return e._fieldMap.get(t).index}));this._context.dispose(u)}r&&this._fieldOrder.forEach((function(t){e._fieldMap.get(t).field.dispose()})),this._context&&this._context.free()},t.prototype.addIdField=function(t){return this.createField(Array.from(t),ue()),this},t.prototype.calculateVariable=function(t,e,n){var r=this,i=this.clone();if(this._context){var o=e.map((function(t){return r._fieldMap.get(t).field.data()})),a=t.subtype,u=void 0===a?B.CATEGORICAL:a,s=t.format,c=new Array(this._context.get_partial_row_count());c.fill(-1);for(var f=this._context.get_eligible_rows(),l=function(t){var e=n.apply(void 0,ce(o.map((function(e){return e[t]}))));u===B.TEMPORAL?c[f[t]]=Ct(u,e,s||function(t){return t}):c[f[t]]=e},p=0;p<this._dataMeta.rows;p++)l(p);var d=this._context.clone();i.setContextInfo(d),i.createField(c,t)}return i},t.prototype.getMatchingIds=function(t){return Array.from(this._context&&t._context?this._context.get_matching_ids(t._context):[])},t.prototype.context=function(){return this._context},t}(),le=((Tt={})[G.SELECT]=function(t){return{disposeFields:!0,disposePartialFields:{dispose:!1,values:[]}}},Tt[G.PROJECT]=function(t){return{disposeFields:!0,disposePartialFields:{dispose:!1,values:[]}}},Tt[G.GROUPBY]=function(t){return{disposeFields:!0,disposePartialFields:{dispose:!0,values:[]}}},Tt[G.SORT]=function(t){return{disposeFields:!0,disposePartialFields:{dispose:!1,values:[]}}},Tt[G.SPLIT]=function(t){return{disposeFields:!0,disposePartialFields:{dispose:!1,values:[]}}},Tt[G.CALCULATE]=function(t){return{disposeFields:!0,disposePartialFields:{dispose:!0,values:[t.fieldInfo.name]}}},Tt),pe=function(t,e){for(;t;)t._refCount=Math.max(t._refCount+(e?1:-1),0),t=null==t?void 0:t.getParent()},de=function(t,e,n,r){var i=e.info,o=e.query,a=e.targetMap,u=e.nonPropagationDms,s=i.targetDms,c=void 0===s?new Set:s,f=i.payload,l=i.exclude,p=void 0===l||l;if(!1!==a.get(t.id())){var d=r;if(o){var h=t.id();!n.get(h)&&d||(d=t.select(o),t.removeChild(d),d.detachParent())}var g=c.has(t.id());!1===function(t,e,n,r){var i=r._propagationInfo.listeners;return!(!n||!i.length||(i.forEach((function(n){n(t,e)})),0))}(d,f,p?!g:g,t)&&(u.push(d),r!==d&&u.push(r)),t.getChildren().filter((function(t){return!1!==a.get(t.id())})).forEach((function(t){var r;d&&(r=function(t,e){var n,r=e.getDerivations()[0],i=r.operation,o=r.params,a=void 0===o?[]:o;switch(i){case G.SELECT:n=t.select(a.query);break;case G.GROUPBY:var u=(n=t.groupBy(a.fields,a.reducers,{createId:!1}))._context.getMatchingIds(e._context);n._context.addIdField(u);break;case G.PROJECT:n=t.project(a.fields);break;case G.SORT:n=t.sort(a);break;case G.CALCULATE:n=t.calculateVariable(a.fieldInfo,a.fields,a.fn)}return n}(d,t)),de(t,e,n,r)}))}},he=function(t,e,n,r){void 0===e&&(e=new Set),void 0===n&&(n=!0),void 0===r&&(r=new Map);var i=t.getChildren(),o=!1;i.forEach((function(t){var i=he(t,e,n,r);o=o||i}));var a=e.has(t.id());return o=o||(n?!a:a),r.set(t.id(),o),o},ge=function(t,e){return{operator:o.EQUAL,value:t===we.defaultInvalidValue()||t instanceof At?void 0:t,field:e}},me=function(){function t(){this._defaultInvalids=new Set;var t=Object.values(Dt);for(var e in t){var n=t[e];this._defaultInvalids.add(n)}}return t.prototype.setInvalids=function(t){var e=this;t.forEach((function(t){return e._defaultInvalids.add(t)}))},t.prototype.getInvalids=function(){return this._defaultInvalids},t.prototype.unsetInvalids=function(t){for(var e in t)this._defaultInvalids.delete(t[e])},t.prototype.isInvalid=function(t){return this._defaultInvalids.has(t)},t}(),ve=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ye=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_e(arguments[e]));return t},be=function(){var t=0;return function(){return t++}}(),we=function(t){function e(n,r){var i=t.call(this)||this;if(i._children=[],i._derivations=[],i._config={sanitizeString:!1},r&&(i._config=r),n instanceof e)i._context=n._context,i._derivations=ye(n._derivations),i._commonDerivation=null;else{var o=n.data,a=n.schema,u=i.sanitizeSchema(a);switch(e._contextType){case St.WASM:i._context=i.setWasmContext({data:o,schema:u},{rows:o[0].length,columns:u.length},i._config);break;default:i._context=i.setWasmContext({data:o,schema:u},{rows:o[0].length,columns:u.length},i._config)}i._commonDerivation=null}return i._id=be(),i._propagationInfo={listeners:[],propagationCriterias:new Map},i._refCount=1,i}return ve(e,t),e.setContext=function(t){void 0===t&&(t=St.WASM),e._contextType=t},e.prototype.setWasmContext=function(t,e,n){return new fe(t,e,n)},e.prototype.setContextInfo=function(t){this._context=t},e.prototype.sanitizeSchema=function(t){var n=e.defaultAggregation();return t.map((function(t){var e=t.format,r=void 0===e?function(t){return t}:e;return{name:t.name,type:t.type,subtype:t.subtype||Q(t.type),defAggFn:t.defAggFn||n,format:r,displayName:t.displayName||t.name}}))},e.prototype.cloneFromContext=function(t){var e=this;if(Array.isArray(t)){var n=[];return t.forEach((function(t){var r=e.clone();r.setContextInfo(t),r._derivations=[],n.push(r)})),n}var r=this.clone();return r._derivations=[],r.setContextInfo(t),r},e.setInvalids=function(t){t&&e.defaults.setInvalids(t)},e.unsetInvalids=function(t){t&&e.defaults.unsetInvalids(t)},e.defaultInvalidValue=function(t){return t&&e.defaults.setDefaultInvalidValue(t),e.defaults.getDefaultInvalidValue()},e.defaultAggregation=function(t){return t&&e.defaults.setDefaultAggregation(t),e.defaults.getDefaultAggregation()},Object.defineProperty(e,"defaults",{get:function(){return e._defaults||(e._defaults=function(){var t=r.SUM,e=new me,n="_invalid";return{setDefaultAggregation:function(e){t=e},getDefaultAggregation:function(){return t},setInvalids:function(t){e.setInvalids(t)},unsetInvalids:function(t){e.unsetInvalids(t)},getInvalidStore:function(){return e},setDefaultInvalidValue:function(t){n=t},getDefaultInvalidValue:function(){return n}}}()),e._defaults},enumerable:!1,configurable:!0}),e.prototype.id=function(){return this._id},e.prototype.getField=function(t){return this._context.getField(t)},e.prototype.getParent=function(){return this._parent},e.prototype.getChildren=function(){return ye(this._children)},e.prototype.getDerivations=function(){return ye(this._derivations)},e.prototype.removeChild=function(t){var e=this._children.findIndex((function(e){return e===t}));e>-1&&this._children.splice(e,1)},e.prototype.detachParent=function(){return this._parent=void 0,this},e.prototype.getData=function(t){return this._context.getData(void 0,void 0,t)},e.prototype.getDataMeta=function(){return this._context.getDataMeta()},e.prototype.getSchema=function(){return this._context.getSchema()},e.prototype.clone=function(t){void 0===t&&(t=!0);var n=new e(this);return t&&(pe(this,!0),this._children.push(n),n._parent=this),n},e.prototype.sort=function(t){var e=this._context.sort(t),n=this.cloneFromContext(e);return n._derivations.push({operation:G.SORT,params:t}),n},e.prototype.select=function(t,e){var n=(e||{}).mode,r=void 0===n?c.NORMAL:n,i=this._context.select(t,{mode:r}),o=this.cloneFromContext(i);return o instanceof Array?(o[0]._derivations.push({operation:G.SELECT,params:{query:t,options:{mode:c.NORMAL}}}),o[1]._derivations.push({operation:G.SELECT,params:{query:t,options:{mode:c.INVERSE}}})):o._derivations.push({operation:G.SELECT,params:{query:t,options:{mode:r}}}),o},e.prototype.splitByRow=function(t){var e=this._context.splitByRow(t),n=this.cloneFromContext(e);return n.map((function(e){var n=function(t,e){var n={},r=e.length;if(1===r){var i=t.getField(e[0]);n=i?ge(i.domain()[0],e[0]):{}}else r>1&&(n.conditions=[],e.forEach((function(e,r){var i=t.getField(e);i&&(n.operator=u.AND,n.conditions[r]=ge(i.domain()[0],e))})));return n}(e,t);return e._commonDerivation={operation:G.SPLIT,params:{fields:t}},e._derivations.push({operation:G.SELECT,params:{query:n,options:{mode:c.NORMAL}}})})),n},e.prototype.project=function(t,e){var n=(e||{}).mode,r=void 0===n?c.NORMAL:n,i=this._context.project(t,{mode:r}),o=this.cloneFromContext(i);return o instanceof Array?(o[0]._derivations.push({operation:G.PROJECT,params:{fields:t,options:{mode:c.NORMAL}}}),o[1]._derivations.push({operation:G.PROJECT,params:{fields:t,options:{mode:c.INVERSE}}})):o._derivations.push({operation:G.PROJECT,params:{fields:t,options:e}}),o},e.prototype.groupBy=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n={});var r=this._context.groupBy(t,e,n),i=this.cloneFromContext(r);return i._derivations.push({operation:G.GROUPBY,params:{fields:t,reducers:e}}),i},e.prototype.disposeRecursive=function(t){void 0===t&&(t=!0),this._refCount=Math.max(this._refCount-1,0),(0===this._refCount||t)&&(this.disposeResources(),this.getChildren().forEach((function(e){e.disposeRecursive(t)})))},e.prototype.getPropagationCriterias=function(){return this._propagationInfo.propagationCriterias},e.prototype.dispose=function(t){if(void 0===t&&(t=!0),!this._disposed){var e=this.getParent();this.disposeRecursive(t),pe(e,!1),function(t){for(;t;){var e=null==t?void 0:t.getParent();!t._refCount&&t.disposeResources(),t=e}}(e)}return this},e.prototype.disposeResources=function(){var t;if(this._disposed)return this;var e=this._derivations[this._derivations.length-1];if(e){var n=e.operation;this._context.dispose(le[n](e.params))}else this._context.dispose({disposeFields:!0,disposePartialFields:{dispose:!1,values:[]}});return null===(t=this._parent)||void 0===t||t.removeChild(this),this.detachParent(),this._disposed=!0,this},e.prototype.propagate=function(t,e){var n=function(t){for(;t;){var e=null==t?void 0:t.getParent();if(!e)break;t=e}return t}(this),r=t.map((function(t){return t.criteria})).filter((function(t){return null!==t})),i=r.length?{operator:e.queryOperator||"and",conditions:r}:null,o=function(t,e){var n=new Map;return t.forEach((function(t){for(var r=t.dm,i=void 0===r?e:r,o=t.criteria,a=t.fields,u=i,s=a.slice(),c=a.some((function(t){var e;return(null===(e=i.getField(t))||void 0===e?void 0:e.type())===H.MEASURE})),f=function(){var t=null==u?void 0:u.getParent(),e=u.getDerivations();if(e.length){var r=e[0].operation===G.GROUPBY&&c,i=s.filter((function(e){return t.getField(e)}));if(r)return n.set(null==u?void 0:u.id(),o),"break";i.length<s.length&&(s=i,n.set(null==u?void 0:u.id(),o))}u=t};u&&"break"!==f(););})),n}(t,this),a=new Map;he(n,e.targetDms,e.exclude,a);var u=[];return de(n,{query:i,info:e,targetMap:a,nonPropagationDms:u},o),u.forEach((function(t){t&&t.dispose(!1)})),this},e.prototype.onPropagation=function(t){return this._propagationInfo.listeners.push(t),this},e.prototype.unsubscribePropagationListeners=function(){return this._propagationInfo.listeners=[],this},e.prototype.calculateVariable=function(t,e,n){var r=this._context.calculateVariable(this.sanitizeSchema([t])[0],e,n),i=this.cloneFromContext(r);return i._derivations.push({operation:G.CALCULATE,params:{fieldInfo:t,fields:e,fn:n}}),i},e.prototype.context=function(){return this._context},e.sanitizeStringVals=function(t){return Ht(t)},e._contextType=St.WASM,e}(Gt);e.default=we}}]);